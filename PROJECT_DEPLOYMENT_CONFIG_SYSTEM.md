# ğŸš€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­å®šã‚·ã‚¹ãƒ†ãƒ 

## ğŸ›ï¸ ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºè©•è­°ä¼šå›ç­”

### ğŸ§™â€â™‚ï¸ 4è³¢è€…ã‹ã‚‰ã®å›ç­”

#### ğŸ“š ãƒŠãƒ¬ãƒƒã‚¸è³¢è€…ã®å›ç­”
**ã€Œè¨­å®šç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€**
- **éšå±¤åŒ–è¨­å®š**: Global â†’ Project â†’ Environment â†’ Override
- **è¨­å®šç¶™æ‰¿**: ä¸Šä½è¨­å®šã‚’ä¸‹ä½ã§ç¶™æ‰¿ãƒ»ä¸Šæ›¸ã
- **è¨­å®šæ¤œè¨¼**: ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ¤œè¨¼
- **è¨­å®šå±¥æ­´**: å…¨è¨­å®šå¤‰æ›´ã®è¿½è·¡ã¨ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

#### ğŸ“‹ ã‚¿ã‚¹ã‚¯è³¢è€…ã®å›ç­”
**ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã®æœ€é©ãªæ§‹é€ ã€**
- **YAMLè¨­å®š**: äººé–“ãŒèª­ã¿ã‚„ã™ãã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†å¯èƒ½
- **ç’°å¢ƒåˆ†é›¢**: é–‹ç™ºãƒ»ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ»æœ¬ç•ªã®æ˜ç¢ºãªåˆ†é›¢
- **ä¾å­˜é–¢ä¿‚ç®¡ç†**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–“ã®ä¾å­˜é–¢ä¿‚ã‚’è‡ªå‹•è§£æ±º
- **ä¸¦åˆ—å®Ÿè¡Œ**: è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŒæ™‚ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾å¿œ

#### ğŸš¨ ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆè³¢è€…ã®å›ç­”
**ã€Œè¨­å®šãƒŸã‚¹ã‚’é˜²ãå®‰å…¨ç­–ã€**
- **äº‹å‰æ¤œè¨¼**: ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã®è¨­å®šæ¤œè¨¼å¿…é ˆ
- **ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³**: å®Ÿéš›ã®ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«æ¨¡æ“¬å®Ÿè¡Œ
- **æ‰¿èªãƒ•ãƒ­ãƒ¼**: æœ¬ç•ªç’°å¢ƒã¯å¿…ãšæ‰¿èªãƒ—ãƒ­ã‚»ã‚¹
- **è‡ªå‹•å¾©æ—§**: è¨­å®šã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

#### ğŸ” RAGè³¢è€…ã®å›ç­”
**ã€Œå‹•çš„è¨­å®šé¸æŠã®æœ€é©åŒ–æ‰‹æ³•ã€**
- **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè§£æ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç‰¹æ€§ã®è‡ªå‹•åˆ†æ
- **æœ€é©åŒ–æ¨å¥¨**: éå»ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãæœ€é©è¨­å®šææ¡ˆ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–**: ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®æ€§èƒ½è‡ªå‹•èª¿æ•´
- **å­¦ç¿’æ©Ÿèƒ½**: æˆåŠŸãƒ»å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å­¦ç¿’ã¨é©ç”¨

### ğŸ›¡ï¸ é¨å£«å›£ã‹ã‚‰ã®å›ç­”
**ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ä¿ã¡ãªãŒã‚‰æŸ”è»Ÿæ€§ã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³•ã€**
- **æ¨©é™ãƒ™ãƒ¼ã‚¹åˆ¶å¾¡**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»ç’°å¢ƒåˆ¥ã®æ¨©é™ç®¡ç†
- **è¨­å®šæš—å·åŒ–**: æ©Ÿå¯†è¨­å®šã®è‡ªå‹•æš—å·åŒ–
- **ç›£æŸ»ãƒ­ã‚°**: å…¨è¨­å®šå¤‰æ›´ã®å®Œå…¨ãƒ­ã‚°è¨˜éŒ²
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³**: è¨­å®šã®è„†å¼±æ€§è‡ªå‹•æ¤œå‡º

---

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ

### ğŸ“‹ CO-STAR ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é©ç”¨

#### ğŸ“‹ C (Context) - èƒŒæ™¯æƒ…å ±
- **ç¾çŠ¶**: å˜ä¸€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥ã§ã¯å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶ã«å¯¾å¿œå›°é›£
- **èª²é¡Œ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã®ç•°ãªã‚‹è¦ä»¶ã€ç’°å¢ƒè¨­å®šã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼
- **ç›®æ¨™**: æŸ”è»Ÿæ€§ã¨æ¨™æº–åŒ–ã®ä¸¡ç«‹

#### ğŸ¯ O (Objective) - ç›®çš„ãƒ»æˆåŠŸæŒ‡æ¨™
- **ä¸»ç›®çš„**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­å®šã®å®Œå…¨è‡ªå‹•åŒ–
- **æˆåŠŸæŒ‡æ¨™**:
  - è¨­å®šå¤‰æ›´æ™‚é–“: 5åˆ†ä»¥å†…
  - è¨­å®šã‚¨ãƒ©ãƒ¼ç‡: 0.1%ä»¥ä¸‹
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¯¾å¿œæ•°: ç„¡åˆ¶é™
  - 4è³¢è€…çµ±åˆ: 100%

#### ğŸ› ï¸ S (Style) - é–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«
- **TDDåŸå‰‡**: å…¨è¨­å®šã‚·ã‚¹ãƒ†ãƒ ã«ãƒ†ã‚¹ãƒˆå¿…é ˆ
- **ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºçµ±åˆ**: 4è³¢è€…ã«ã‚ˆã‚‹è‡ªå‹•æœ€é©åŒ–
- **YAMLè¨­å®š**: äººé–“ã¨ãƒã‚·ãƒ³ã®ä¸¡æ–¹ãŒèª­ã¿ã‚„ã™ã„

#### ğŸ¨ T (Tone) - å“è³ªåŸºæº–
- **å®‰å…¨æ€§ç¬¬ä¸€**: è¨­å®šãƒŸã‚¹ã«ã‚ˆã‚‹éšœå®³ã‚¼ãƒ­
- **ä½¿ã„ã‚„ã™ã•**: é–‹ç™ºè€…ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼
- **é€æ˜æ€§**: å…¨è¨­å®šå¤‰æ›´ã®å¯è¦–åŒ–

#### ğŸ‘¥ A (Audience) - å¯¾è±¡è€…
- **é–‹ç™ºè€…**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šç®¡ç†è€…
- **DevOps**: ã‚¤ãƒ³ãƒ•ãƒ©é‹ç”¨è€…
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: é€²æ—ç®¡ç†è€…

#### ğŸ“Š R (Response) - æœŸå¾…æˆæœ
- **æˆæœç‰©**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥è¨­å®šã‚·ã‚¹ãƒ†ãƒ 
- **å½¢å¼**: YAMLè¨­å®š + ç®¡ç†ãƒ„ãƒ¼ãƒ«
- **ãƒ†ã‚¹ãƒˆ**: å®Œå…¨è‡ªå‹•ãƒ†ã‚¹ãƒˆä»˜ã

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹é€ 

### ğŸ“ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
deployment-configs/
â”œâ”€â”€ global/                     # ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š
â”‚   â”œâ”€â”€ default.yml            # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
â”‚   â”œâ”€â”€ templates/             # è¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ web-app.yml       # Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨
â”‚   â”‚   â”œâ”€â”€ api-service.yml   # APIã‚µãƒ¼ãƒ“ã‚¹ç”¨
â”‚   â”‚   â”œâ”€â”€ background-job.yml # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ç”¨
â”‚   â”‚   â””â”€â”€ microservice.yml  # ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ç”¨
â”‚   â””â”€â”€ schemas/               # è¨­å®šã‚¹ã‚­ãƒ¼ãƒ
â”‚       â””â”€â”€ deployment-schema.yml
â”œâ”€â”€ projects/                  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥è¨­å®š
â”‚   â”œâ”€â”€ ai-company-web/       # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€
â”‚   â”‚   â”œâ”€â”€ project.yml       # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºæœ¬è¨­å®š
â”‚   â”‚   â”œâ”€â”€ development.yml   # é–‹ç™ºç’°å¢ƒè¨­å®š
â”‚   â”‚   â”œâ”€â”€ staging.yml       # ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒè¨­å®š
â”‚   â”‚   â””â”€â”€ production.yml    # æœ¬ç•ªç’°å¢ƒè¨­å®š
â”‚   â”œâ”€â”€ elders-guild-api/
â”‚   â”‚   â”œâ”€â”€ project.yml
â”‚   â”‚   â”œâ”€â”€ development.yml
â”‚   â”‚   â”œâ”€â”€ staging.yml
â”‚   â”‚   â””â”€â”€ production.yml
â”‚   â””â”€â”€ micro-services/
â”‚       â”œâ”€â”€ auth-service/
â”‚       â”œâ”€â”€ user-service/
â”‚       â””â”€â”€ notification-service/
â””â”€â”€ overrides/                 # ä¸€æ™‚çš„ãªè¨­å®šä¸Šæ›¸ã
    â”œâ”€â”€ hotfix-overrides.yml
    â””â”€â”€ emergency-overrides.yml
```

### ğŸ“‹ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¾‹

#### Global Defaultè¨­å®š
```yaml
# deployment-configs/global/default.yml
apiVersion: v1
kind: DeploymentConfig
metadata:
  name: global-default
  version: "1.0.0"
  created_by: elders-guild

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
default:
  deployment_method: github_actions  # github_actions | ssh | hybrid
  four_sages_integration: true
  knights_protection: true
  
  # ç’°å¢ƒè¨­å®š
  environments:
    development:
      auto_deploy: true
      approval_required: false
      rollback_enabled: true
    staging:
      auto_deploy: true
      approval_required: true
      rollback_enabled: true
    production:
      auto_deploy: false
      approval_required: true
      rollback_enabled: true
      
  # GitHub Actionsè¨­å®š
  github_actions:
    trigger_on:
      - push
      - pull_request
    runner: ubuntu-latest
    timeout: 30
    retry_count: 3
    
  # SSHè¨­å®š
  ssh:
    connection_timeout: 30
    retry_count: 3
    backup_before_deploy: true
    health_check_wait: 30
    
  # 4è³¢è€…çµ±åˆè¨­å®š
  four_sages:
    knowledge_sage:
      enabled: true
      history_tracking: true
    task_sage:
      enabled: true
      dependency_check: true
    incident_sage:
      enabled: true
      monitoring: true
    rag_sage:
      enabled: true
      optimization: true
      
  # é¨å£«å›£è¨­å®š
  knights:
    security_scan: true
    vulnerability_check: true
    permission_audit: true
    real_time_monitoring: true
```

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šä¾‹
```yaml
# deployment-configs/projects/ai-company-web/project.yml
apiVersion: v1
kind: ProjectConfig
metadata:
  name: ai-company-web
  template: web-app
  version: "2.1.0"
  
project:
  name: "AI Company Web Application"
  type: web-app
  technology_stack:
    - python
    - fastapi
    - postgresql
    - redis
  
  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰è¨­å®š
  settings:
    deployment_method: github_actions
    build_command: "python -m build"
    test_command: "pytest tests/"
    health_check_endpoint: "/health"
    
  # ç’°å¢ƒå›ºæœ‰ã®ä¸Šæ›¸ã
  environment_overrides:
    development:
      deployment_method: ssh
      auto_deploy: true
    staging:
      deployment_method: github_actions
      approval_required: false
    production:
      deployment_method: github_actions
      approval_required: true
      deployment_window: 
        - "02:00-04:00"  # æ·±å¤œãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ™‚é–“
      
  # 4è³¢è€…ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
  four_sages_custom:
    knowledge_sage:
      learning_rate: high
      pattern_recognition: true
    task_sage:
      optimization_level: aggressive
      parallel_execution: true
    incident_sage:
      alert_threshold: low
      auto_recovery: true
    rag_sage:
      analysis_depth: deep
      recommendation_level: advanced
      
  # é€šçŸ¥è¨­å®š
  notifications:
    slack:
      channel: "#ai-company-web-deploy"
      mention_on_failure: true
    email:
      recipients: ["team@example.com"]
      
  # ãƒªã‚½ãƒ¼ã‚¹è¨­å®š
  resources:
    cpu: "2"
    memory: "4Gi"
    storage: "20Gi"
    
  # ä¾å­˜é–¢ä¿‚
  dependencies:
    - elders-guild-api
    - shared-database
```

---

## ğŸ› ï¸ ç®¡ç†ãƒ„ãƒ¼ãƒ«

### ğŸ“‹ CLI ã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šç®¡ç†
ai-deploy-config list                              # å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
ai-deploy-config show <project>                   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šè¡¨ç¤º
ai-deploy-config create <project> --template web-app  # æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
ai-deploy-config update <project> --file config.yml   # è¨­å®šæ›´æ–°

# ç’°å¢ƒåˆ¥è¨­å®š
ai-deploy-config env list <project>               # ç’°å¢ƒä¸€è¦§
ai-deploy-config env show <project> <env>         # ç’°å¢ƒè¨­å®šè¡¨ç¤º
ai-deploy-config env set <project> <env> <key> <value>  # è¨­å®šå¤‰æ›´

# ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•é¸æŠ
ai-deploy-config method <project> <env> github_actions  # GitHub Actionsè¨­å®š
ai-deploy-config method <project> <env> ssh            # SSHè¨­å®š
ai-deploy-config method <project> <env> hybrid         # ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰è¨­å®š

# è¨­å®šæ¤œè¨¼
ai-deploy-config validate <project>               # è¨­å®šæ¤œè¨¼
ai-deploy-config test <project> <env>             # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤
ai-deploy-config dry-run <project> <env>          # ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³å®Ÿè¡Œ

# 4è³¢è€…çµ±åˆ
ai-deploy-config sages-optimize <project>         # 4è³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–
ai-deploy-config sages-recommend <project>        # è¨­å®šæ¨å¥¨
ai-deploy-config sages-analyze <project>          # è¨­å®šåˆ†æ
```

### ğŸ¯ Web UI ç®¡ç†ç”»é¢

```
ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”œâ”€â”€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
â”‚   â”œâ”€â”€ è¨­å®šçŠ¶æ³
â”‚   â”œâ”€â”€ ãƒ‡ãƒ—ãƒ­ã‚¤å±¥æ­´
â”‚   â””â”€â”€ å¥åº·çŠ¶æ…‹
â”œâ”€â”€ è¨­å®šã‚¨ãƒ‡ã‚£ã‚¿
â”‚   â”œâ”€â”€ GUIè¨­å®šã‚¨ãƒ‡ã‚£ã‚¿
â”‚   â”œâ”€â”€ YAMLç›´æ¥ç·¨é›†
â”‚   â””â”€â”€ è¨­å®šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
â”œâ”€â”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†
â”‚   â”œâ”€â”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§
â”‚   â”œâ”€â”€ ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â””â”€â”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå…±æœ‰
â””â”€â”€ 4è³¢è€…çµ±åˆ
    â”œâ”€â”€ æœ€é©åŒ–ææ¡ˆ
    â”œâ”€â”€ åˆ†æãƒ¬ãƒãƒ¼ãƒˆ
    â””â”€â”€ å­¦ç¿’çŠ¶æ³
```

---

## ğŸ”§ å®Ÿè£…ä¾‹

### ğŸ“‹ è¨­å®šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

```python
# libs/project_deployment_config.py
from dataclasses import dataclass
from typing import Dict, List, Optional, Any
import yaml
import json
from pathlib import Path
from libs.four_sages_integration import FourSagesIntegration

@dataclass
class DeploymentConfig:
    """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­å®š"""
    project_name: str
    deployment_method: str
    environments: Dict[str, Dict[str, Any]]
    four_sages_config: Dict[str, Any]
    knights_config: Dict[str, Any]
    
class ProjectDeploymentManager:
    """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆç®¡ç†"""
    
    def __init__(self, config_dir: str = "deployment-configs"):
        self.config_dir = Path(config_dir)
        self.sages = FourSagesIntegration()
        self.global_config = self._load_global_config()
    
    def _load_global_config(self) -> Dict[str, Any]:
        """ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šèª­ã¿è¾¼ã¿"""
        global_config_path = self.config_dir / "global" / "default.yml"
        if global_config_path.exists():
            with open(global_config_path, 'r') as f:
                return yaml.safe_load(f)
        return {}
    
    def get_project_config(self, project_name: str, environment: str) -> DeploymentConfig:
        """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šå–å¾—"""
        # è¨­å®šç¶™æ‰¿: Global â†’ Project â†’ Environment â†’ Override
        config = self.global_config.get('default', {}).copy()
        
        # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
        project_config = self._load_project_config(project_name)
        self._merge_config(config, project_config)
        
        # ç’°å¢ƒè¨­å®š
        env_config = self._load_environment_config(project_name, environment)
        self._merge_config(config, env_config)
        
        # 4è³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–
        optimized_config = self.sages.optimize_deployment_config(config)
        
        return DeploymentConfig(
            project_name=project_name,
            deployment_method=optimized_config.get('deployment_method', 'github_actions'),
            environments=optimized_config.get('environments', {}),
            four_sages_config=optimized_config.get('four_sages', {}),
            knights_config=optimized_config.get('knights', {})
        )
    
    def _load_project_config(self, project_name: str) -> Dict[str, Any]:
        """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šèª­ã¿è¾¼ã¿"""
        project_config_path = self.config_dir / "projects" / project_name / "project.yml"
        if project_config_path.exists():
            with open(project_config_path, 'r') as f:
                return yaml.safe_load(f)
        return {}
    
    def _load_environment_config(self, project_name: str, environment: str) -> Dict[str, Any]:
        """ç’°å¢ƒè¨­å®šèª­ã¿è¾¼ã¿"""
        env_config_path = self.config_dir / "projects" / project_name / f"{environment}.yml"
        if env_config_path.exists():
            with open(env_config_path, 'r') as f:
                return yaml.safe_load(f)
        return {}
    
    def _merge_config(self, base_config: Dict[str, Any], override_config: Dict[str, Any]):
        """è¨­å®šãƒãƒ¼ã‚¸"""
        for key, value in override_config.items():
            if isinstance(value, dict) and key in base_config:
                if isinstance(base_config[key], dict):
                    self._merge_config(base_config[key], value)
                else:
                    base_config[key] = value
            else:
                base_config[key] = value
    
    def validate_config(self, project_name: str, environment: str) -> bool:
        """è¨­å®šæ¤œè¨¼"""
        try:
            config = self.get_project_config(project_name, environment)
            
            # å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç¢ºèª
            required_fields = ['deployment_method', 'environments']
            for field in required_fields:
                if not hasattr(config, field):
                    return False
            
            # 4è³¢è€…ã«ã‚ˆã‚‹æ¤œè¨¼
            validation_result = self.sages.validate_deployment_config(config)
            
            return validation_result
        except Exception as e:
            print(f"è¨­å®šæ¤œè¨¼ã‚¨ãƒ©ãƒ¼: {e}")
            return False
    
    def create_project_config(self, project_name: str, template: str = "web-app") -> bool:
        """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šä½œæˆ"""
        try:
            # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆèª­ã¿è¾¼ã¿
            template_path = self.config_dir / "global" / "templates" / f"{template}.yml"
            if not template_path.exists():
                raise FileNotFoundError(f"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ '{template}' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
            
            with open(template_path, 'r') as f:
                template_config = yaml.safe_load(f)
            
            # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
            project_dir = self.config_dir / "projects" / project_name
            project_dir.mkdir(parents=True, exist_ok=True)
            
            # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
            config_files = {
                'project.yml': template_config,
                'development.yml': {'environment': 'development'},
                'staging.yml': {'environment': 'staging'},
                'production.yml': {'environment': 'production'}
            }
            
            for filename, config_data in config_files.items():
                config_path = project_dir / filename
                with open(config_path, 'w') as f:
                    yaml.dump(config_data, f, default_flow_style=False)
            
            return True
        except Exception as e:
            print(f"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šä½œæˆã‚¨ãƒ©ãƒ¼: {e}")
            return False
    
    def update_project_config(self, project_name: str, config_updates: Dict[str, Any]) -> bool:
        """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šæ›´æ–°"""
        try:
            project_config_path = self.config_dir / "projects" / project_name / "project.yml"
            
            if project_config_path.exists():
                with open(project_config_path, 'r') as f:
                    current_config = yaml.safe_load(f)
            else:
                current_config = {}
            
            # è¨­å®šæ›´æ–°
            self._merge_config(current_config, config_updates)
            
            # 4è³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–
            optimized_config = self.sages.optimize_deployment_config(current_config)
            
            # è¨­å®šä¿å­˜
            with open(project_config_path, 'w') as f:
                yaml.dump(optimized_config, f, default_flow_style=False)
            
            return True
        except Exception as e:
            print(f"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šæ›´æ–°ã‚¨ãƒ©ãƒ¼: {e}")
            return False
    
    def get_deployment_strategy(self, project_name: str, environment: str) -> str:
        """ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥å–å¾—"""
        config = self.get_project_config(project_name, environment)
        return config.deployment_method
    
    def set_deployment_method(self, project_name: str, environment: str, method: str) -> bool:
        """ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•è¨­å®š"""
        valid_methods = ['github_actions', 'ssh', 'hybrid']
        if method not in valid_methods:
            raise ValueError(f"ç„¡åŠ¹ãªãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•: {method}")
        
        env_config_path = self.config_dir / "projects" / project_name / f"{environment}.yml"
        
        if env_config_path.exists():
            with open(env_config_path, 'r') as f:
                env_config = yaml.safe_load(f)
        else:
            env_config = {}
        
        env_config['deployment_method'] = method
        
        with open(env_config_path, 'w') as f:
            yaml.dump(env_config, f, default_flow_style=False)
        
        return True
```

---

## ğŸ›ï¸ ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºçµ±åˆæ©Ÿèƒ½

### ğŸ§™â€â™‚ï¸ 4è³¢è€…ã«ã‚ˆã‚‹è‡ªå‹•æœ€é©åŒ–

```python
# libs/four_sages_integration.py æ‹¡å¼µ
class FourSagesIntegration:
    """4è³¢è€…çµ±åˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šå¯¾å¿œï¼‰"""
    
    def optimize_deployment_config(self, config: Dict[str, Any]) -> Dict[str, Any]:
        """4è³¢è€…ã«ã‚ˆã‚‹è¨­å®šæœ€é©åŒ–"""
        optimized_config = config.copy()
        
        # ğŸ“š ãƒŠãƒ¬ãƒƒã‚¸è³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–
        knowledge_optimization = self._knowledge_sage_optimize(optimized_config)
        self._merge_optimization(optimized_config, knowledge_optimization)
        
        # ğŸ“‹ ã‚¿ã‚¹ã‚¯è³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–
        task_optimization = self._task_sage_optimize(optimized_config)
        self._merge_optimization(optimized_config, task_optimization)
        
        # ğŸš¨ ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆè³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–
        incident_optimization = self._incident_sage_optimize(optimized_config)
        self._merge_optimization(optimized_config, incident_optimization)
        
        # ğŸ” RAGè³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–
        rag_optimization = self._rag_sage_optimize(optimized_config)
        self._merge_optimization(optimized_config, rag_optimization)
        
        return optimized_config
    
    def _knowledge_sage_optimize(self, config: Dict[str, Any]) -> Dict[str, Any]:
        """ãƒŠãƒ¬ãƒƒã‚¸è³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–"""
        # éå»ã®ãƒ‡ãƒ—ãƒ­ã‚¤å±¥æ­´ã‹ã‚‰å­¦ç¿’
        historical_data = self._get_deployment_history()
        
        optimizations = {}
        
        # æˆåŠŸç‡ã®é«˜ã„è¨­å®šã‚’æ¨å¥¨
        if historical_data:
            best_practices = self._analyze_best_practices(historical_data)
            optimizations.update(best_practices)
        
        return optimizations
    
    def _task_sage_optimize(self, config: Dict[str, Any]) -> Dict[str, Any]:
        """ã‚¿ã‚¹ã‚¯è³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–"""
        # ä¾å­˜é–¢ä¿‚ã¨ã‚¿ã‚¹ã‚¯é †åºã®æœ€é©åŒ–
        optimizations = {}
        
        # ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½ãªè¨­å®šã‚’æ¨å¥¨
        if config.get('project', {}).get('type') == 'microservice':
            optimizations['parallel_deployment'] = True
            optimizations['dependency_check'] = True
        
        return optimizations
    
    def _incident_sage_optimize(self, config: Dict[str, Any]) -> Dict[str, Any]:
        """ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆè³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–"""
        # å®‰å…¨æ€§ã‚’é‡è¦–ã—ãŸè¨­å®š
        optimizations = {}
        
        # æœ¬ç•ªç’°å¢ƒã¯å¿…ãšæ‰¿èªãƒ•ãƒ­ãƒ¼ã‚’æœ‰åŠ¹åŒ–
        if 'production' in config.get('environments', {}):
            optimizations.setdefault('environments', {})
            optimizations['environments']['production'] = {
                'approval_required': True,
                'rollback_enabled': True,
                'health_check_enabled': True
            }
        
        return optimizations
    
    def _rag_sage_optimize(self, config: Dict[str, Any]) -> Dict[str, Any]:
        """RAGè³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–"""
        # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒªã‚½ãƒ¼ã‚¹æœ€é©åŒ–
        optimizations = {}
        
        # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸãƒªã‚½ãƒ¼ã‚¹æ¨å¥¨
        project_type = config.get('project', {}).get('type')
        if project_type == 'web-app':
            optimizations['resources'] = {
                'cpu': '2',
                'memory': '4Gi',
                'timeout': 1800
            }
        elif project_type == 'microservice':
            optimizations['resources'] = {
                'cpu': '1',
                'memory': '2Gi',
                'timeout': 600
            }
        
        return optimizations
```

---

## ğŸ¯ ä½¿ç”¨ä¾‹

### ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šä½œæˆ

```bash
# æ–°ã—ã„Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
ai-deploy-config create my-web-app --template web-app

# ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
ai-deploy-config create my-api-service --template microservice

# è¨­å®šç¢ºèª
ai-deploy-config show my-web-app
```

### ğŸ”§ ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•å¤‰æ›´

```bash
# é–‹ç™ºç’°å¢ƒã‚’SSHãƒ‡ãƒ—ãƒ­ã‚¤ã«å¤‰æ›´
ai-deploy-config method my-web-app development ssh

# æœ¬ç•ªç’°å¢ƒã‚’GitHub Actionsã«å¤‰æ›´
ai-deploy-config method my-web-app production github_actions

# è¨­å®šæ¤œè¨¼
ai-deploy-config validate my-web-app
```

### ğŸ§™â€â™‚ï¸ 4è³¢è€…ã«ã‚ˆã‚‹æœ€é©åŒ–

```bash
# 4è³¢è€…ã«ã‚ˆã‚‹è¨­å®šæœ€é©åŒ–
ai-deploy-config sages-optimize my-web-app

# æœ€é©åŒ–æ¨å¥¨ç¢ºèª
ai-deploy-config sages-recommend my-web-app

# è¨­å®šåˆ†æãƒ¬ãƒãƒ¼ãƒˆ
ai-deploy-config sages-analyze my-web-app
```

---

**ğŸ“ ä½œæˆè€…**: ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼ï¼ˆClaude Elderï¼‰
**ğŸ“… ä½œæˆæ—¥**: 2025å¹´7æœˆ10æ—¥
**ğŸ›ï¸ æ‰¿èªå¾…ã¡**: ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºè©•è­°ä¼š

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«æœ€é©ãªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­å®šã‚’é¸æŠãƒ»å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼