# ğŸŒ Elders Guild Project Web Portal - ã‚µãƒ¼ãƒãƒ¼ã‚¢ã‚¯ã‚»ã‚¹æƒ…å ±

**RAGã‚¨ãƒ«ãƒ€ãƒ¼æ¨å¥¨Dockerçµ±åˆç’°å¢ƒ**ã®ã‚¢ã‚¯ã‚»ã‚¹æƒ…å ±

## ğŸ“ ã‚µãƒ¼ãƒãƒ¼IPã‚¢ãƒ‰ãƒ¬ã‚¹

### ğŸ–¥ï¸ ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒãƒ¼IP
- **ãƒ—ãƒ©ã‚¤ãƒãƒªIP**: `172.29.65.239`
- **Tailscale VPN**: `100.76.169.124`

## ğŸšª ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒ¼ãƒˆä¸€è¦§

### ğŸŒ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

#### **ãƒ¡ã‚¤ãƒ³ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆNginxçµŒç”±ï¼‰**
```
http://172.29.65.239        # HTTPï¼ˆæ¨å¥¨ï¼‰
http://100.76.169.124       # Tailscale VPNçµŒç”±
```

#### **ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹**
```
# Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
http://172.29.65.239:3000
http://100.76.169.124:3000

# FastAPI ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
http://172.29.65.239:8000
http://100.76.169.124:8000

# FastAPI ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
http://172.29.65.239:8000/docs
http://100.76.169.124:8000/docs
```

### ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

#### **PostgreSQL + pgvector**
```
Host: 172.29.65.239
Port: 5432
Database: elders_guild
User: elder_admin
Password: sage_wisdom_2025

# æ¥ç¶šæ–‡å­—åˆ—
postgresql://elder_admin:sage_wisdom_2025@172.29.65.239:5432/elders_guild
```

#### **Redis**
```
Host: 172.29.65.239
Port: 6379
Database: 0

# æ¥ç¶šæ–‡å­—åˆ—
redis://172.29.65.239:6379/0
```

## ğŸš€ Dockerèµ·å‹•ã‚³ãƒãƒ³ãƒ‰

### ğŸ“‹ èµ·å‹•æ‰‹é †

```bash
# 1. ã‚µãƒ¼ãƒãƒ¼ã«SSHæ¥ç¶š
ssh user@172.29.65.239

# 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /home/aicompany/ai_co

# 3. ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env
nano .env  # OPENAI_API_KEY ã‚’è¨­å®š

# 4. Dockerèµ·å‹•
./scripts/docker_start.sh
```

### âš¡ å€‹åˆ¥ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•

```bash
# æ®µéšçš„èµ·å‹•
docker-compose up -d postgres redis    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
docker-compose up -d backend           # API
docker-compose up -d frontend          # UI
docker-compose up -d nginx             # ãƒ—ãƒ­ã‚­ã‚·

# ä¸€æ‹¬èµ·å‹•
docker-compose up -d
```

## ğŸ” ã‚µãƒ¼ãƒ“ã‚¹ç¢ºèª

### ğŸ“Š ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

```bash
# ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
curl http://172.29.65.239/health

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
curl http://172.29.65.239:8000/health

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
curl http://172.29.65.239:3000
```

### ğŸ“ˆ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª

```bash
# ã‚³ãƒ³ãƒ†ãƒŠçŠ¶æ…‹
docker-compose ps

# ãƒ­ã‚°ç¢ºèª
docker-compose logs -f

# ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡
docker stats
```

## ğŸŒ å¤–éƒ¨ã‚¢ã‚¯ã‚»ã‚¹è¨­å®š

### ğŸ”“ ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

```bash
# å¿…è¦ãƒãƒ¼ãƒˆé–‹æ”¾
sudo ufw allow 80      # HTTP
sudo ufw allow 443     # HTTPS
sudo ufw allow 3000    # Next.jsï¼ˆé–‹ç™ºç”¨ï¼‰
sudo ufw allow 8000    # FastAPIï¼ˆé–‹ç™ºç”¨ï¼‰
```

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

```bash
# æœ¬ç•ªç’°å¢ƒã§ã¯ç›´æ¥ãƒãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™
sudo ufw deny 3000     # Next.js ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦
sudo ufw deny 8000     # FastAPI ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦
sudo ufw deny 5432     # PostgreSQL å¤–éƒ¨ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦
sudo ufw deny 6379     # Redis å¤–éƒ¨ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦
```

## ğŸ“± ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•

### ğŸ–¥ï¸ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ–ãƒ©ã‚¦ã‚¶

```
ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª:    http://172.29.65.239
API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: http://172.29.65.239:8000/docs
```

### ğŸ“± ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ

```
ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª:    http://172.29.65.239
```

### ğŸ”§ é–‹ç™ºè€…ç”¨

```
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰:   http://172.29.65.239:3000
ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰:    http://172.29.65.239:8000
API Docs:      http://172.29.65.239:8000/docs
ReDoc:         http://172.29.65.239:8000/redoc
```

## ğŸ”Œ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ğŸ¯ ä¸»è¦API

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
GET http://172.29.65.239:8000/api/projects

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°
GET http://172.29.65.239:8000/api/projects/{id}

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ã‚­ãƒ£ãƒ³
POST http://172.29.65.239:8000/api/projects/scan

# è‡ªå‹•è³‡æ–™ç”Ÿæˆ
POST http://172.29.65.239:8000/api/projects/{id}/documentation

# çµ±è¨ˆæƒ…å ±
GET http://172.29.65.239:8000/api/stats

# æ¤œç´¢
GET http://172.29.65.239:8000/api/search?q=python
```

### ğŸ”„ WebSocket

```javascript
// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡
const ws = new WebSocket('ws://172.29.65.239:8000/ws');
```

## ğŸ“Š ç›£è¦–ãƒ»ãƒ‡ãƒãƒƒã‚°

### ğŸ” ãƒ­ã‚°ç¢ºèª

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ã‚°
ssh user@172.29.65.239 "cd /home/aicompany/ai_co && docker-compose logs -f"

# å€‹åˆ¥ã‚µãƒ¼ãƒ“ã‚¹
ssh user@172.29.65.239 "cd /home/aicompany/ai_co && docker-compose logs -f backend"
```

### ğŸ“ˆ ãƒ¡ãƒˆãƒªã‚¯ã‚¹

```bash
# ã‚³ãƒ³ãƒ†ãƒŠãƒªã‚½ãƒ¼ã‚¹
ssh user@172.29.65.239 "docker stats --no-stream"

# ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹
ssh user@172.29.65.239 "top"
```

## ğŸ¯ ãƒ†ã‚¹ãƒˆæ‰‹é †

### 1ï¸âƒ£ åŸºæœ¬æ¥ç¶šãƒ†ã‚¹ãƒˆ

```bash
# ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
curl -I http://172.29.65.239

# API ãƒ˜ãƒ«ã‚¹
curl http://172.29.65.239:8000/health
```

### 2ï¸âƒ£ æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
curl http://172.29.65.239:8000/api/projects

# çµ±è¨ˆæƒ…å ±
curl http://172.29.65.239:8000/api/stats
```

### 3ï¸âƒ£ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://172.29.65.239` ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ã‚­ãƒ£ãƒ³ã‚’å®Ÿè¡Œ
4. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸ã‚’ç¢ºèª

## ğŸŠ ã¾ã¨ã‚

### ğŸŒŸ æ¨å¥¨ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•

**ğŸ¯ ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼**:
```
http://172.29.65.239
```

**ğŸ”§ é–‹ç™ºè€…**:
```
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: http://172.29.65.239:3000
API:          http://172.29.65.239:8000
API Docs:     http://172.29.65.239:8000/docs
```

**ğŸ“± Tailscale VPN ãƒ¦ãƒ¼ã‚¶ãƒ¼**:
```
http://100.76.169.124
```

---

**ğŸ‰ Elders Guild Project Web Portal ã¸ã‚ˆã†ã“ãï¼**  
**RAGã‚¨ãƒ«ãƒ€ãƒ¼æ¨å¥¨ã®æœ€å…ˆç«¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ï¼**