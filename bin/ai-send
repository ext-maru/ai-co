#!/bin/bash
# AI Company タスク送信コマンド

# プロジェクトディレクトリ
PROJECT_DIR="/home/aicompany/ai_co"

# ヘルプオプションの処理
if [ "$1" = "--help" ] || [ "$1" = "-h" ]; then
    echo "AI Company タスク送信コマンド"
    echo ""
    echo "使用方法: ai-send \"プロンプト\" [type]"
    echo ""
    echo "引数:"
    echo "  プロンプト    AIに送信するタスクの内容"
    echo "  type         タスクの種類 (デフォルト: general)"
    echo ""
    echo "例:"
    echo "  ai-send \"Pythonでフィボナッチ数列を生成\" code"
    echo "  ai-send \"今日のタスクを整理して\""
    echo ""
    echo "オプション:"
    echo "  -h, --help   このヘルプメッセージを表示"
    exit 0
fi

# 引数チェック
if [ $# -lt 1 ]; then
    echo "使用方法: ai-send \"プロンプト\" [type]"
    echo "例: ai-send \"Pythonでフィボナッチ数列を生成\" code"
    echo "ヘルプ: ai-send --help"
    exit 1
fi

PROMPT="$1"
TYPE="${2:-general}"

# 仮想環境でsend_task.pyを実行
cd "$PROJECT_DIR"
source venv/bin/activate
python3 scripts/send_task.py "$PROMPT" "$TYPE"
