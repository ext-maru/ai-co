# 📋 AI Company タスクタイプ解説

## 🎯 タスクタイプとは

AI Companyでは、タスクを送信する際に「タスクタイプ」を指定します。これによって処理方法やワーカーの動作が変わります。

## 📊 主なタスクタイプ

### 1. **code** - コード生成タスク
```bash
ai-send "PythonでWebサーバーを作って" code
```
- **用途**: プログラムやスクリプトの生成
- **特徴**: 
  - FileSystemツールを使用してファイル作成
  - 実行可能なコードを生成
  - PMWorkerが自動的にGitコミット
- **出力**: .py, .sh, .js などのコードファイル

### 2. **general** - 一般タスク
```bash
ai-send "明日の天気を教えて" general
```
- **用途**: 質問応答、情報検索、分析
- **特徴**:
  - テキストベースの応答
  - ファイル生成は必須ではない
  - 調査、説明、アドバイスなど
- **出力**: テキスト応答（ファイルは任意）

### 3. **dialog** - 対話型タスク
```bash
ai-dialog "複雑なシステム設計について相談したい"
```
- **用途**: 複数回のやり取りが必要なタスク
- **特徴**:
  - 会話形式で進行
  - コンテキストを保持
  - `ai-reply`で続きを送信
- **出力**: 対話履歴、最終成果物

## 🔄 処理フローの違い

### codeタスクの場合:
```
1. TaskWorker: Claude CLIでコード生成
2. PMWorker: ファイル配置、Git自動コミット
3. ResultWorker: Slack通知（作成ファイル一覧付き）
```

### generalタスクの場合:
```
1. TaskWorker: Claude CLIで応答生成
2. PMWorker: （ファイルがあれば配置）
3. ResultWorker: Slack通知（テキスト応答中心）
```

## 💡 使い分けのガイドライン

### codeを使うべき場合:
- ✅ プログラムを作成したい
- ✅ スクリプトを生成したい
- ✅ 設定ファイルを作成したい
- ✅ 実行可能なものが欲しい

### generalを使うべき場合:
- ✅ 質問に答えてほしい
- ✅ 情報を調べてほしい
- ✅ 分析や説明が欲しい
- ✅ アドバイスが欲しい

## 📝 実例

### codeタスクの例:
```bash
# Webスクレイピングツール作成
ai-send "PythonでYahooニュースのスクレイピングツールを作って" code

# 自動化スクリプト作成
ai-send "毎日のバックアップを自動化するbashスクリプトを作って" code

# API作成
ai-send "FastAPIで簡単なTODO管理APIを作って" code
```

### generalタスクの例:
```bash
# 情報検索
ai-send "最新のPython 3.12の新機能を教えて" general

# 分析依頼
ai-send "このエラーメッセージの原因と対処法を教えて: ImportError..." general

# アドバイス
ai-send "マイクロサービスアーキテクチャのベストプラクティスは？" general
```

## 🎨 高度な使い方

### タスクタイプの組み合わせ:
```bash
# 1. まず調査（general）
ai-send "認証システムの実装方法を調査して" general

# 2. その後実装（code）
ai-send "JWTを使った認証システムを実装して" code
```

### 優先度との組み合わせ:
```bash
# 緊急のコード生成
ai-send "バグ修正: ログインエラーを直すパッチ" code --priority critical

# 通常の質問
ai-send "Dockerのベストプラクティスは？" general --priority normal
```

## 📊 統計情報

タスクタイプ別の典型的な処理時間:
- **code**: 5-30秒（ファイル生成を含む）
- **general**: 2-10秒（テキスト応答のみ）
- **dialog**: 可変（対話の長さによる）

## 🔧 内部処理の違い

### RAGシステムの活用:
- **code**: 過去の類似コード生成タスクを参照
- **general**: 過去の類似質問と回答を参照

### ファイル配置:
- **code**: workers/, libs/, scripts/ などに自動配置
- **general**: 必要に応じて output/ に配置

---

これがAI Companyのタスクタイプシステムです。適切なタイプを選ぶことで、より効率的な処理が可能になります！
