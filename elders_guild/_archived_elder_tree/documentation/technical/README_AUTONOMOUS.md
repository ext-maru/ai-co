# ğŸ¤– Knights Autonomous Guardian System

## æ¦‚è¦

é¨å£«å›£è‡ªå¾‹å®ˆè­·ã‚·ã‚¹ãƒ†ãƒ  - å®Œå…¨è‡ªå¾‹çš„ãª24/7ç›£è¦–ãƒ»è¨ºæ–­ãƒ»ä¿®å¾©ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚äººé–“ã®ä»‹å…¥ãªã—ã«ã‚·ã‚¹ãƒ†ãƒ ã®å¥åº·çŠ¶æ…‹ã‚’ç¶­æŒã—ã€å•é¡Œã‚’è‡ªå‹•ã§æ¤œå‡ºãƒ»ä¿®å¾©ã—ã¾ã™ã€‚

## ğŸŒŸ ä¸»è¦æ©Ÿèƒ½

### ğŸ” è‡ªå‹•ç›£è¦–
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: 1åˆ†é–“éš”ã§ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚’ãƒã‚§ãƒƒã‚¯
- **åŒ…æ‹¬çš„ãƒã‚§ãƒƒã‚¯**: GitHub Actionsã€ãƒ­ãƒ¼ã‚«ãƒ«é¨å£«å›£ã€ãƒ¯ãƒ¼ã‚«ãƒ¼ã€RabbitMQ
- **äºˆæ¸¬çš„ç›£è¦–**: å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å‰ã«è­¦å‘Š

### ğŸ”§ è‡ªå‹•ä¿®å¾©
- **ãƒ¯ãƒ¼ã‚«ãƒ¼ä¿®å¾©**: åœæ­¢ã—ãŸãƒ¯ãƒ¼ã‚«ãƒ¼ã®è‡ªå‹•å†èµ·å‹•
- **RabbitMQç®¡ç†**: æ¥ç¶šå•é¡Œã®è‡ªå‹•è§£æ±º
- **ä¾å­˜é–¢ä¿‚æ›´æ–°**: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
- **ãƒ­ã‚°ç®¡ç†**: å¤ã„ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### ğŸ›¡ï¸ ã‚»ãƒ«ãƒ•ãƒ’ãƒ¼ãƒªãƒ³ã‚°
- **ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½**: å¤±æ•—æ™‚ã®è‡ªå‹•å†è©¦è¡Œ
- **ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: é‡è¦ãªå•é¡Œã®æ‰‹å‹•ä»‹å…¥è¦è«‹
- **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰**: è‡ªå‹•ä¿®å¾©ã®ä¸€æ™‚åœæ­¢æ©Ÿèƒ½

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰

```bash
# è‡ªå¾‹é‹ç”¨ã‚·ã‚¹ãƒ†ãƒ ã‚’è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
sudo ./scripts/setup_autonomous_service.sh
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã‚’è‡ªå‹•ã§è¨­å®šã—ã¾ã™ï¼š
- systemdã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ
- ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
- Cronç›£è¦–ã‚¸ãƒ§ãƒ–
- å¿…è¦æœ€å°é™ã®sudoæ¨©é™
- ä»®æƒ³ç’°å¢ƒã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

### 2. æ‰‹å‹•èµ·å‹•

```bash
# ç›´æ¥å®Ÿè¡Œï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
python3 scripts/knights_autonomous_guardian.py

# ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆè‡ªå‹•ä¿®å¾©ç„¡åŠ¹ï¼‰
python3 scripts/knights_autonomous_guardian.py --maintenance

# ãƒã‚§ãƒƒã‚¯é–“éš”å¤‰æ›´ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ60ç§’ï¼‰
python3 scripts/knights_autonomous_guardian.py --interval 30

# ãƒ˜ãƒ«ã‚¹ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º
python3 scripts/knights_autonomous_guardian.py --report
```

## ğŸ“Š ç›£è¦–é …ç›®

### ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹
- **ãƒ¯ãƒ¼ã‚«ãƒ¼çŠ¶æ³**: æœŸå¾…ã•ã‚Œã‚‹3ã¤ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ã®ç¨¼åƒçŠ¶æ…‹
- **RabbitMQæ¥ç¶š**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¥ãƒ¼ã®æ¥ç¶šçŠ¶æ…‹
- **é¨å£«å›£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: ãƒ­ãƒ¼ã‚«ãƒ«é¨å£«å›£ã®å®Ÿè¡Œå¯èƒ½æ€§
- **ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡**: 85%ä»¥ä¸Šã§è‡ªå‹•ãƒ­ã‚°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### è‡ªå‹•ä¿®å¾©ãƒ«ãƒ¼ãƒ«

| å•é¡Œ | æ¡ä»¶ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | é‡è¦åº¦ | è‡ªå‹•å®Ÿè¡Œ |
|------|------|------------|---------|----------|
| ãƒ¯ãƒ¼ã‚«ãƒ¼åœæ­¢ | å®Ÿè¡Œä¸­ < æœŸå¾…æ•° | ãƒ¯ãƒ¼ã‚«ãƒ¼ä¿®å¾© | High | âœ… |
| RabbitMQåˆ‡æ–­ | æ¥ç¶šå¤±æ•— | RabbitMQå†èµ·å‹• | Critical | âœ… |
| é¨å£«å›£ã‚¨ãƒ©ãƒ¼ | ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œå¤±æ•— | ä¾å­˜é–¢ä¿‚æ›´æ–° | Medium | âœ… |
| ãƒ‡ã‚£ã‚¹ã‚¯ä¸è¶³ | ä½¿ç”¨ç‡ > 85% | ãƒ­ã‚°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— | Medium | âœ… |

## ğŸ”§ é‹ç”¨ç®¡ç†

### ã‚µãƒ¼ãƒ“ã‚¹ç®¡ç†

```bash
# ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèª
sudo systemctl status knights-guardian

# ã‚µãƒ¼ãƒ“ã‚¹é–‹å§‹/åœæ­¢/å†èµ·å‹•
sudo systemctl start knights-guardian
sudo systemctl stop knights-guardian
sudo systemctl restart knights-guardian

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç¢ºèª
sudo journalctl -u knights-guardian -f
```

### ãƒ­ã‚°ç›£è¦–

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°
tail -f logs/knights_autonomous.log

# ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ã‚°
tail -f /var/log/knights-guardian/stdout.log
tail -f /var/log/knights-guardian/stderr.log

# ãƒ˜ãƒ«ã‚¹ãƒ¬ãƒãƒ¼ãƒˆ
ls /var/log/knights-guardian/health_*.log
```

### çµ±è¨ˆæƒ…å ±

```bash
# ç¾åœ¨ã®çµ±è¨ˆè¡¨ç¤º
python3 scripts/knights_autonomous_guardian.py --report
```

å‡ºåŠ›ä¾‹ï¼š
```json
{
  "guardian_status": {
    "running": true,
    "uptime_hours": 24.5,
    "maintenance_mode": false
  },
  "statistics": {
    "total_checks": 1440,
    "total_issues_detected": 15,
    "total_auto_repairs": 12,
    "successful_repairs": 10,
    "failed_repairs": 2,
    "escalations": 1
  },
  "efficiency_metrics": {
    "success_rate": 83.3,
    "average_checks_per_hour": 60,
    "escalation_rate": 6.7
  }
}
```

## âš™ï¸ è¨­å®šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ãƒã‚§ãƒƒã‚¯é–“éš”ã®èª¿æ•´

```bash
# ã‚µãƒ¼ãƒ“ã‚¹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†
sudo systemctl edit knights-guardian
```

```ini
[Service]
ExecStart=
ExecStart=/home/aicompany/ai_co/venv/bin/python scripts/knights_autonomous_guardian.py --interval 30
```

### è‡ªå‹•ä¿®å¾©ãƒ«ãƒ¼ãƒ«ã®å¤‰æ›´

`scripts/knights_autonomous_guardian.py`ã®`auto_repair_rules`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç·¨é›†ï¼š

```python
self.auto_repair_rules = {
    "custom_rule": {
        "condition": lambda status: your_condition_here,
        "action": "your_action_here",
        "severity": "high",
        "auto_execute": True
    }
}
```

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã—ãªã„**
   ```bash
   # ãƒ­ã‚°ã§è©³ç´°ç¢ºèª
   sudo journalctl -u knights-guardian --no-pager

   # æ¨©é™ç¢ºèª
   ls -la /home/aicompany/ai_co/scripts/knights_autonomous_guardian.py
   ```

2. **è‡ªå‹•ä¿®å¾©ãŒå‹•ä½œã—ãªã„**
   ```bash
   # ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ç¢ºèª
   python3 scripts/knights_autonomous_guardian.py --report

   # sudoæ¨©é™ç¢ºèª
   sudo -l
   ```

3. **ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œãªã„**
   ```bash
   # ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ¨©é™ç¢ºèª
   ls -la logs/
   ls -la /var/log/knights-guardian/
   ```

### ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ

ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•ä¿®å¾©ã§ããªã„å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. **critical.log**ã‚’ç¢ºèª
2. **escalationé€šçŸ¥**ã‚’ãƒã‚§ãƒƒã‚¯
3. **æ‰‹å‹•ä»‹å…¥**å®Ÿè¡Œ
4. **æ ¹æœ¬åŸå› **ã‚’ç‰¹å®šãƒ»ä¿®æ­£

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

### CPUãƒ»ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡

```bash
# ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡
systemctl show knights-guardian --property=CPUUsageNSec,MemoryCurrent

# ãƒ—ãƒ­ã‚»ã‚¹è©³ç´°
ps aux | grep knights_autonomous_guardian
```

### åŠ¹ç‡ãƒ¡ãƒˆãƒªã‚¯ã‚¹

- **æˆåŠŸç‡**: 90%ä»¥ä¸ŠãŒç›®æ¨™
- **å¹³å‡ãƒã‚§ãƒƒã‚¯é »åº¦**: 60å›/æ™‚é–“
- **ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç‡**: 5%ä»¥ä¸‹ãŒç›®æ¨™

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### æœ€å°æ¨©é™ã®åŸå‰‡

ã‚·ã‚¹ãƒ†ãƒ ã¯ä»¥ä¸‹ã®æœ€å°é™ã®æ¨©é™ã®ã¿ã§å‹•ä½œï¼š
- RabbitMQã‚µãƒ¼ãƒ“ã‚¹ã®å†èµ·å‹•æ¨©é™
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®èª­ã¿æ›¸ãæ¨©é™
- ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®èª­ã¿æ›¸ãæ¨©é™

### ç›£æŸ»ãƒ­ã‚°

å…¨ã¦ã®è‡ªå‹•ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ä»¥ä¸‹ã«è¨˜éŒ²ï¼š
- `/var/log/knights-guardian/`
- `logs/knights_autonomous.log`
- systemd journal

## ğŸ¯ é‹ç”¨ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **å®šæœŸçš„ãªçµ±è¨ˆç¢ºèª**: é€±1å›ã®åŠ¹ç‡ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèª
2. **ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ**: 24æ™‚é–“ä»¥å†…ã®æ‰‹å‹•ä»‹å…¥
3. **ãƒ­ã‚°ç›£è¦–**: é‡è¦ãªå•é¡Œã®æ—©æœŸç™ºè¦‹
4. **è¨­å®šèª¿æ•´**: ç’°å¢ƒã«å¿œã˜ãŸãƒ«ãƒ¼ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
5. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

---

## ğŸ‰ çµè«–

Knights Autonomous Guardian Systemã«ã‚ˆã‚Šã€é¨å£«å›£ã¯å®Œå…¨è‡ªå¾‹çš„ã«é‹ç”¨ã•ã‚Œã€24/7ã®ç›£è¦–ãƒ»ä¿®å¾©ä½“åˆ¶ãŒç¢ºç«‹ã•ã‚Œã¾ã™ã€‚äººé–“ã®ä»‹å…¥ã‚’æœ€å°é™ã«æŠ‘ãˆãªãŒã‚‰ã€é«˜ã„ç¨¼åƒç‡ã¨ã‚·ã‚¹ãƒ†ãƒ ã®å¥å…¨æ€§ã‚’ç¶­æŒã§ãã¾ã™ã€‚
