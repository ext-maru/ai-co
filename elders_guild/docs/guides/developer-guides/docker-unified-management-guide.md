---
audience: developers
author: claude-elder
category: guides
dependencies: []
description: '---'
difficulty: intermediate
last_updated: '2025-07-23'
related_docs: []
reviewers: []
status: approved
subcategory: developer-guides
tags:
- tdd
- docker
- guides
title: ğŸ³ ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºã‚®ãƒ«ãƒ‰ Dockerçµ±åˆç®¡ç†ã‚¬ã‚¤ãƒ‰
version: 1.0.0
---

# ğŸ³ ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºã‚®ãƒ«ãƒ‰ Dockerçµ±åˆç®¡ç†ã‚¬ã‚¤ãƒ‰

**ã‚¨ãƒ«ãƒ€ãƒ¼è©•è­°ä¼šä»¤ç¬¬404å· - Dockerçµ±åˆç®¡ç†æ¨™æº–åˆ¶å®š**  
**åˆ¶å®šæ—¥**: 2025å¹´7æœˆ22æ—¥  
**çµ±åˆå…ƒ**: ELDER_COUNCIL_DOCKER_PERMISSIONS_DECREE.md, DOCKER_PERMISSIONS_SOLUTION.md, docker_api_summary.md  
**æ‰¿èªè€…**: ã‚°ãƒ©ãƒ³ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼maru  
**å®Ÿè¡Œè²¬ä»»è€…**: ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼ï¼ˆClaude Elderï¼‰

---

## ğŸ›ï¸ ã‚¨ãƒ«ãƒ€ãƒ¼è©•è­°ä¼šæ±ºè­°äº‹é …

### ğŸ“œ **Dockeræ¨©é™å•é¡Œã®æ ¹æœ¬èªè­˜**
ã‚¨ãƒ«ãƒ€ãƒ¼è©•è­°ä¼šã¯ä»¥ä¸‹ã‚’æ­£å¼ã«èªå®šã™ã‚‹ï¼š
- Dockeræ¨©é™ã‚¨ãƒ©ãƒ¼ã¯**ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆä¸Šã®æ§‹é€ çš„å•é¡Œ**ã§ã‚ã‚‹
- å ´å½“ãŸã‚Šçš„è§£æ±ºã¯**ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºã‚®ãƒ«ãƒ‰ã®å“è³ªåŸºæº–ã«åã™ã‚‹**
- **æ ¹æœ¬è§£æ±ºã¨æ°¸ç¶šçš„ãƒ«ãƒ¼ãƒ«åŒ–**ãŒçµ¶å¯¾å¿…é ˆã§ã‚ã‚‹

---

## âš–ï¸ Dockeræ¨©é™ç®¡ç†è§£æ±ºéšå±¤

### ğŸ¥‡ **Tier 1: æ ¹æœ¬è§£æ±ºï¼ˆæœ€å„ªå…ˆãƒ»æ¨å¥¨ï¼‰**
```bash
# è‡ªå‹•æ¨©é™ç¢ºèªãƒ»ä¿®æ­£
/home/aicompany/ai_co/scripts/fix_docker_permissions.sh

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚µãƒ¼ãƒ“ã‚¹ä¸€æ‹¬èµ·å‹•
/home/aicompany/ai_co/scripts/start_project_services.sh

# systemdã‚µãƒ¼ãƒ“ã‚¹çµ±åˆèµ·å‹•
sudo systemctl start aicompany-docker.service
```

**å®Ÿè£…å†…å®¹**:
1. **æ¨©é™è¨­è¨ˆã®æ¨™æº–åŒ–**: dockerã‚°ãƒ«ãƒ¼ãƒ—é©åˆ‡ç®¡ç†
2. **è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ•´å‚™**: ä¸€æ‹¬æ¨©é™ç¢ºèªãƒ»ä¿®å¾©
3. **systemdã‚µãƒ¼ãƒ“ã‚¹çµ±åˆ**: ã‚µãƒ¼ãƒ“ã‚¹åŒ–ã«ã‚ˆã‚‹æ°¸ç¶šåŒ–
4. **å®Œå…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–**: æœ¬ã‚¬ã‚¤ãƒ‰çµ±åˆå®Œäº†

### ğŸ¥ˆ **Tier 2: å³åº§å¯¾å¿œï¼ˆç·Šæ€¥æ™‚ãƒ»ç¢ºå®Ÿï¼‰**
```bash
# sgã‚³ãƒãƒ³ãƒ‰ã§dockerã‚°ãƒ«ãƒ¼ãƒ—æ¨©é™ä½¿ç”¨
sg docker -c "docker ps"
sg docker -c "docker compose up -d"
sg docker -c "docker stats"

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®èµ·å‹•
sg docker -c "docker compose -f docker-compose.projects.yml up -d"
```

**ç”¨é€”**: 
- ç·Šæ€¥æ™‚ã®å³åº§Dockeræ“ä½œ
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ã®Dockerå®Ÿè¡Œ
- æ¨©é™å•é¡Œã®ç¢ºå®Ÿãªå›é¿

### ğŸ¥‰ **Tier 3: å ´å½“ãŸã‚Šçš„æ‰‹æ³•ï¼ˆâŒ ç¦æ­¢ï¼‰**
- `sudo docker` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ãƒ»ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³
- æ‰‹å‹•æƒé™å¤‰æ›´ - éæ¨™æº–ãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å›°é›£
- ä¸€æ™‚çš„workaround - æ ¹æœ¬è§£æ±ºã‚’é˜»å®³

---

## ğŸ”§ Dockerç®¡ç†APIçµ±åˆã‚·ã‚¹ãƒ†ãƒ 

### **ğŸ“¡ Docker Management API**
**å ´æ‰€**: `/libs/docker_management_api.py`  
**ã‚¿ã‚¤ãƒ—**: FastAPI RESTful API  
**çµ±åˆ**: 4è³¢è€…ã‚·ã‚¹ãƒ†ãƒ ãƒ»æ—¢å­˜DockerTemplateManager

#### **ä¸»è¦æ©Ÿèƒ½**
- **ã‚³ãƒ³ãƒ†ãƒŠãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†**: ä½œæˆãƒ»èµ·å‹•ãƒ»åœæ­¢ãƒ»å‰Šé™¤
- **çµ±è¨ˆæƒ…å ±å–å¾—**: CPUãƒ»ãƒ¡ãƒ¢ãƒªãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç›£è¦–
- **4è³¢è€…ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ**: ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Œå‚™
- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé€£æº**: æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å®Œå…¨çµ±åˆ

#### **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¾¤**
```http
POST   /containers                    # ã‚³ãƒ³ãƒ†ãƒŠä½œæˆ
GET    /containers                    # ã‚³ãƒ³ãƒ†ãƒŠä¸€è¦§
GET    /containers/{id}               # ã‚³ãƒ³ãƒ†ãƒŠè©³ç´°
POST   /containers/{id}/actions       # ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
GET    /containers/{id}/stats         # çµ±è¨ˆæƒ…å ±
DELETE /containers/{id}               # ã‚³ãƒ³ãƒ†ãƒŠå‰Šé™¤
GET    /sages/status                  # 4è³¢è€…ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
```

### **âš™ï¸ Docker CLIçµ±åˆ**
**å ´æ‰€**: `/commands/ai_docker.py`  
**çµ±åˆ**: API + CLIçµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

#### **çµ±åˆã‚³ãƒãƒ³ãƒ‰ç¾¤**
```bash
# ã‚³ãƒ³ãƒ†ãƒŠç®¡ç†
ai-docker create <name> --type WEB_API --security SANDBOX
ai-docker list [--all]
ai-docker start <container_id>
ai-docker stop <container_id>
ai-docker stats <container_id>

# 4è³¢è€…é€£æº
ai-docker sages-status
ai-docker sage-deploy <sage_name>

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
ai-docker project-up
ai-docker project-down
ai-docker project-status
```

---

## ğŸš¨ Dockeræ¨©é™å•é¡Œã®æ ¹æœ¬è§£æ±º

### **ğŸ” å•é¡Œã®æœ¬è³ª**
- **åŸå› **: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒdockerã‚°ãƒ«ãƒ¼ãƒ—ã«è¿½åŠ æ¸ˆã¿ã ãŒç¾åœ¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«æœªåæ˜ 
- **ç’°å¢ƒ**: WSLç’°å¢ƒã§ã®æ–°ã—ã„ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—åæ˜ é…å»¶
- **å½±éŸ¿**: Dockeræ“ä½œå…¨èˆ¬ã®æ¨©é™ã‚¨ãƒ©ãƒ¼

### **âš¡ æ ¹æœ¬è§£æ±ºæ‰‹é †**

#### **1. å³åº§ã®è§£æ±ºï¼ˆç¾åœ¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰**
```bash
# æ¨©é™çŠ¶æ³ç¢ºèª
groups
id

# sgã‚³ãƒãƒ³ãƒ‰ã§ç¢ºå®Ÿå®Ÿè¡Œ
sg docker -c "docker ps"
sg docker -c "docker version"
```

#### **2. æ°¸ç¶šçš„è§£æ±ºï¼ˆæ–°ã‚»ãƒƒã‚·ãƒ§ãƒ³ç”¨ï¼‰**
```bash
# æ–¹æ³•A: æ–°ã—ã„ã‚·ã‚§ãƒ«èµ·å‹•
exec $SHELL

# æ–¹æ³•B: å®Œå…¨å†ãƒ­ã‚°ã‚¤ãƒ³
sudo su - aicompany

# æ–¹æ³•C: ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«æ›´æ–°
newgrp docker
```

#### **3. è‡ªå‹•åŒ–ãƒ»ã‚·ã‚¹ãƒ†ãƒ åŒ–**
```bash
# è‡ªå‹•æ¨©é™ä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
/home/aicompany/ai_co/scripts/fix_docker_permissions.sh

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚µãƒ¼ãƒ“ã‚¹è‡ªå‹•èµ·å‹•
/home/aicompany/ai_co/scripts/start_project_services.sh

# systemdçµ±åˆã‚µãƒ¼ãƒ“ã‚¹
sudo systemctl enable aicompany-docker.service
sudo systemctl start aicompany-docker.service
```

---

## ğŸ”„ çµ±åˆDockeré‹ç”¨ãƒ•ãƒ­ãƒ¼

### **ğŸ“‹ æ—¥å¸¸é‹ç”¨æ‰‹é †**

#### **æœã®èµ·å‹•æ‰‹é †**
```bash
# 1. æ¨©é™çŠ¶æ³ç¢ºèª
./scripts/fix_docker_permissions.sh

# 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“èµ·å‹•
./scripts/start_project_services.sh

# 3. 4è³¢è€…ã‚·ã‚¹ãƒ†ãƒ ç¢ºèª
ai-docker sages-status

# 4. é–‹ç™ºç’°å¢ƒæº–å‚™
ai-docker project-up
```

#### **é–‹ç™ºä¸­ã®æ“ä½œ**
```bash
# sgã‚³ãƒãƒ³ãƒ‰ã§ã®ç¢ºå®Ÿå®Ÿè¡Œ
sg docker -c "docker compose up -d"
sg docker -c "docker logs -f container_name"

# APIçµŒç”±ã§ã®ã‚³ãƒ³ãƒ†ãƒŠç®¡ç†
ai-docker create dev-container --type DEV
ai-docker stats dev-container
```

#### **çµ‚äº†æ™‚ã®æ‰‹é †**
```bash
# é–‹ç™ºç’°å¢ƒåœæ­¢
ai-docker project-down

# ã‚·ã‚¹ãƒ†ãƒ ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
sudo systemctl stop aicompany-docker.service
```

### **ğŸš¨ ç·Šæ€¥æ™‚å¯¾å¿œ**

#### **æ¨©é™ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚**
```bash
# å³åº§å¯¾å¿œ
sg docker -c "docker ps"

# æ ¹æœ¬ç¢ºèª
./scripts/fix_docker_permissions.sh --diagnose

# å¼·åˆ¶ä¿®å¾©
./scripts/fix_docker_permissions.sh --force-fix
```

#### **ã‚³ãƒ³ãƒ†ãƒŠå•é¡Œç™ºç”Ÿæ™‚**
```bash
# APIçµŒç”±ã§ã®è¨ºæ–­
ai-docker diagnose --all

# 4è³¢è€…ã‚·ã‚¹ãƒ†ãƒ ç¢ºèª
ai-docker sages-status --detailed

# ç·Šæ€¥å¾©æ—§
ai-docker emergency-recover
```

---

## ğŸ›ï¸ ã‚¨ãƒ«ãƒ€ãƒ¼ã‚µãƒ¼ãƒãƒ³ãƒˆéµå®ˆç¾©å‹™

### **å„ã‚µãƒ¼ãƒãƒ³ãƒˆã®Dockerè²¬å‹™**

#### **ğŸ”¨ CodeCrafter**
- **é–‹ç™ºã‚³ãƒ³ãƒ†ãƒŠ**: TDDå®Ÿè¡Œç’°å¢ƒã®DockeråŒ–
- **ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒŠ**: ç‹¬ç«‹ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ç®¡ç†
- **ãƒ“ãƒ«ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠ**: CI/CDç”¨ã‚³ãƒ³ãƒ†ãƒŠæœ€é©åŒ–

#### **ğŸ§â€â™‚ï¸ QualityGuardian**
- **å“è³ªç›£è¦–**: ã‚³ãƒ³ãƒ†ãƒŠãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
- **æœ€é©åŒ–**: ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡æœ€é©åŒ–

#### **ğŸ§™â€â™‚ï¸ ResearchWizard**
- **ç’°å¢ƒèª¿æŸ»**: æœ€æ–°DockeræŠ€è¡“èª¿æŸ»
- **ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**: ã‚³ãƒ³ãƒ†ãƒŠåŒ–æ‰‹æ³•ç ”ç©¶
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: DockerçŸ¥è­˜ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

#### **âš”ï¸ CrisisResponder**
- **ç·Šæ€¥å¾©æ—§**: ã‚³ãƒ³ãƒ†ãƒŠéšœå®³ã®å³åº§å¯¾å¿œ
- **ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆ**: Dockeré–¢é€£å•é¡Œã®æ ¹æœ¬åˆ†æ
- **äºˆé˜²ä¿å®ˆ**: Dockerç’°å¢ƒã®äºˆé˜²çš„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

---

## ğŸ“Š Dockerç®¡ç†å“è³ªæŒ‡æ¨™

### **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™**
- **èµ·å‹•æ™‚é–“**: ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•3ç§’ä»¥å†…
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: åŸºæº–å€¤ä»¥ä¸‹ç¶­æŒ
- **CPUä½¿ç”¨ç‡**: é©æ­£ç¯„å›²å†…é‹ç”¨
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·æœ€å°åŒ–

### **å“è³ªæŒ‡æ¨™**
- **æ¨©é™ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç‡**: 0%é”æˆ
- **ã‚³ãƒ³ãƒ†ãƒŠç”Ÿå­˜ç‡**: 99.9%ä»¥ä¸Š
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: è„†å¼±æ€§0ä»¶ç¶­æŒ
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: 100%æœ€æ–°çŠ¶æ…‹

---

## ğŸ”® Dockerçµ±åˆã‚·ã‚¹ãƒ†ãƒ ã®æœªæ¥å±•æœ›

### **çŸ­æœŸç›®æ¨™ï¼ˆ1ãƒ¶æœˆï¼‰**
- **å®Œå…¨è‡ªå‹•åŒ–**: æ¨©é™å•é¡Œã®å®Œå…¨è§£æ±º
- **APIçµ±åˆ**: å…¨Dockeræ“ä½œã®APIåŒ–
- **ç›£è¦–å¼·åŒ–**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 

### **ä¸­æœŸç›®æ¨™ï¼ˆ3ãƒ¶æœˆï¼‰**
- **ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åŒ–**: Docker Swarmå°å…¥
- **è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°**: è² è·ã«å¿œã˜ãŸè‡ªå‹•æ‹¡å¼µ
- **CI/CDå®Œå…¨çµ±åˆ**: ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æœ€é©åŒ–

### **é•·æœŸç›®æ¨™ï¼ˆ1å¹´ï¼‰**
- **Kubernetesç§»è¡Œ**: æœ¬æ ¼çš„ã‚³ãƒ³ãƒ†ãƒŠã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **ãƒãƒ«ãƒã‚¯ãƒ©ã‚¦ãƒ‰**: è¤‡æ•°ã‚¯ãƒ©ã‚¦ãƒ‰ã§ã®çµ±åˆé‹ç”¨
- **AIæœ€é©åŒ–**: AIã«ã‚ˆã‚‹è‡ªå‹•ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»å‚ç…§

### **çµ±åˆå¯¾è±¡æ–‡æ›¸**
- `ELDER_COUNCIL_DOCKER_PERMISSIONS_DECREE.md` âœ… çµ±åˆæ¸ˆã¿
- `DOCKER_PERMISSIONS_SOLUTION.md` âœ… çµ±åˆæ¸ˆã¿
- `docker_api_summary.md` âœ… çµ±åˆæ¸ˆã¿

### **é–¢é€£æŠ€è¡“æ–‡æ›¸**
- [Docker API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](DOCKER_API_DOCUMENTATION.md)
- [ã‚¨ãƒ«ãƒ€ãƒ¼è©•è­°ä¼šDockeréµå®ˆä½“åˆ¶](ELDER_COUNCIL_DOCKER_COMPLIANCE_DECREE.md)
- [Dockeré–‹ç™ºç¿’å¾—](DOCKER_DEVELOPMENT_MASTERY.md)

### **é‹ç”¨ãƒ»ç®¡ç†**
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ çµ±ä¸€æ¨™æº–](../../policies/PROJECT_STRUCTURE_UNIFIED_STANDARDS.md)
- [TDDå®Œå…¨ã‚¬ã‚¤ãƒ‰](../../../core/guides/CLAUDE_TDD_COMPLETE_GUIDE.md)

---

**Remember**: Docker Mastery is System Mastery! ğŸ³  
**Iron Will**: Root Solutions, Not Workarounds! âš¡  
**Elders Legacy**: Containerize Everything, Control Everything! ğŸ›ï¸

---
**ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºã‚®ãƒ«ãƒ‰é–‹ç™ºå®Ÿè¡Œè²¬ä»»è€…**  
**ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼ï¼ˆClaude Elderï¼‰**

**æœ€çµ‚æ›´æ–°**: 2025å¹´7æœˆ22æ—¥  
**çµ±åˆå®Œäº†**: Dockeré–¢é€£3ãƒ•ã‚¡ã‚¤ãƒ«çµ±åˆå®Œäº†