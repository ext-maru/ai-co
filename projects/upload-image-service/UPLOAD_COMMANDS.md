# Upload Image Service - ã‚µãƒ¼ãƒãƒ¼ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚³ãƒãƒ³ãƒ‰

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã‹ã‚‰å®Ÿè¡Œï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§ï¼‰
rsync -avz --exclude 'node_modules' --exclude 'venv' --exclude '__pycache__' \
  --exclude '*.db' --exclude '.env' --exclude 'server.log' --exclude 'frontend.log' \
  ./ ubuntu@172.29.65.239:/var/www/upload-image-service/
```

### 2. ã‚µãƒ¼ãƒãƒ¼ã«SSHæ¥ç¶šã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# SSHæ¥ç¶š
ssh ubuntu@172.29.65.239

# ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /var/www/upload-image-service

# ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
chmod +x deploy.sh
./deploy.sh
```

## ğŸ“ ã‚µãƒ¼ãƒãƒ¼æ¥ç¶šæƒ…å ±ãƒ¡ãƒ¢

- **ãƒ›ã‚¹ãƒˆ**: 172.29.65.239
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ubuntu
- **ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**: /var/www/upload-image-service/
- **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ãƒˆ**: 9001
- **APIãƒãƒ¼ãƒˆ**: 8001

## ğŸ” ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®ç¢ºèª

```bash
# ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
http://172.29.65.239:9001/        # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
http://172.29.65.239:9001/admin   # ç®¡ç†ç”»é¢

# ã‚µãƒ¼ãƒãƒ¼ä¸Šã§ãƒ­ã‚°ç¢ºèª
tail -f /var/www/upload-image-service/backend/app.log
```

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒ¼ãƒˆ9001ãŒä½¿ç”¨ä¸­ã®å ´åˆ
```bash
# ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆç¢ºèª
sudo lsof -i :9001

# åˆ¥ã®ãƒãƒ¼ãƒˆã«å¤‰æ›´ï¼ˆä¾‹ï¼š9002ï¼‰
# deploy.shã¨Nginxè¨­å®šã‚’ç·¨é›†ã—ã¦ãƒãƒ¼ãƒˆç•ªå·ã‚’å¤‰æ›´
```

### æ¨©é™ã‚¨ãƒ©ãƒ¼ã®å ´åˆ
```bash
# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ¨©é™ã®ä¿®æ­£
sudo chown -R ubuntu:ubuntu /var/www/upload-image-service
```
