import React, { useState, useEffect } from 'react';\nimport './SimpleContractReview.css';\n\n// ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å®šç¾©\nexport enum SimpleStatus {\n  NOT_UPLOADED = 'not_uploaded',     // ã‚¢ãƒƒãƒ—ã—ã¦ãªã„\n  NEEDS_REUPLOAD = 'needs_reupload', // NGå‡ºã¦å†ã‚¢ãƒƒãƒ—å¿…è¦\n  APPROVED = 'approved'              // OKã§ãŸ\n}\n\ninterface ContractItem {\n  id: string;\n  user_name: string;\n  contract_type: 'individual' | 'corporate';\n  status: SimpleStatus;\n  created_at: string;\n  google_drive_folder_url?: string;\n  document_count: number;\n  required_document_count: number;\n}\n\ninterface SimpleContractReviewProps {\n  // å¿…è¦ã«å¿œã˜ã¦propsã‚’è¿½åŠ \n}\n\nexport const SimpleContractReview: React.FC<SimpleContractReviewProps> = () => {\n  const [contracts, setContracts] = useState<ContractItem[]>([]);\n  const [filterStatus, setFilterStatus] = useState<SimpleStatus | 'all'>('all');\n  const [loading, setLoading] = useState(false);\n\n  // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿéš›ã¯APIã‹ã‚‰å–å¾—ï¼‰\n  useEffect(() => {\n    const sampleData: ContractItem[] = [\n      {\n        id: '1',\n        user_name: 'ç”°ä¸­å¤ªéƒ',\n        contract_type: 'individual',\n        status: SimpleStatus.NOT_UPLOADED,\n        created_at: '2025-01-10T10:00:00Z',\n        google_drive_folder_url: 'https://drive.google.com/drive/folders/xxx',\n        document_count: 2,\n        required_document_count: 5\n      },\n      {\n        id: '2',\n        user_name: 'æ ªå¼ä¼šç¤¾ABC',\n        contract_type: 'corporate',\n        status: SimpleStatus.NEEDS_REUPLOAD,\n        created_at: '2025-01-09T15:30:00Z',\n        google_drive_folder_url: 'https://drive.google.com/drive/folders/yyy',\n        document_count: 8,\n        required_document_count: 8\n      },\n      {\n        id: '3',\n        user_name: 'ä½è—¤èŠ±å­',\n        contract_type: 'individual',\n        status: SimpleStatus.APPROVED,\n        created_at: '2025-01-08T09:15:00Z',\n        google_drive_folder_url: 'https://drive.google.com/drive/folders/zzz',\n        document_count: 5,\n        required_document_count: 5\n      }\n    ];\n    setContracts(sampleData);\n  }, []);\n\n  const getStatusLabel = (status: SimpleStatus): string => {\n    switch (status) {\n      case SimpleStatus.NOT_UPLOADED:\n        return 'ã‚¢ãƒƒãƒ—ã—ã¦ãªã„';\n      case SimpleStatus.NEEDS_REUPLOAD:\n        return 'NGãƒ»å†ã‚¢ãƒƒãƒ—å¿…è¦';\n      case SimpleStatus.APPROVED:\n        return 'OKå®Œäº†';\n      default:\n        return 'ä¸æ˜';\n    }\n  };\n\n  const getStatusColor = (status: SimpleStatus): string => {\n    switch (status) {\n      case SimpleStatus.NOT_UPLOADED:\n        return 'status-not-uploaded';\n      case SimpleStatus.NEEDS_REUPLOAD:\n        return 'status-needs-reupload';\n      case SimpleStatus.APPROVED:\n        return 'status-approved';\n      default:\n        return '';\n    }\n  };\n\n  const getContractTypeLabel = (type: string): string => {\n    return type === 'individual' ? 'å€‹äºº' : 'æ³•äºº';\n  };\n\n  const handleStatusChange = async (contractId: string, newStatus: SimpleStatus) => {\n    setLoading(true);\n    try {\n      // TODO: APIã‚³ãƒ¼ãƒ«å®Ÿè£…\n      // await updateContractStatus(contractId, newStatus);\n      \n      setContracts(prev => \n        prev.map(contract => \n          contract.id === contractId \n            ? { ...contract, status: newStatus }\n            : contract\n        )\n      );\n      \n      console.log(`Contract ${contractId} status updated to ${newStatus}`);\n    } catch (error) {\n      console.error('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°ã‚¨ãƒ©ãƒ¼:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openGoogleDrive = (url?: string) => {\n    if (url) {\n      window.open(url, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  const filteredContracts = contracts.filter(contract => {\n    if (filterStatus === 'all') return true;\n    return contract.status === filterStatus;\n  });\n\n  // ä½œæ¥­ä¸­æ¡ˆä»¶ï¼ˆã‚¢ãƒƒãƒ—ã—ã¦ãªã„ã€ã¾ãŸã¯NGï¼‰ã®ã‚«ã‚¦ãƒ³ãƒˆ\n  const pendingCount = contracts.filter(c => \n    c.status === SimpleStatus.NOT_UPLOADED || c.status === SimpleStatus.NEEDS_REUPLOAD\n  ).length;\n\n  return (\n    <div className=\"simple-contract-review\">\n      <div className=\"review-header\">\n        <h1>ğŸ“‹ å¥‘ç´„æ›¸é¡ãƒã‚§ãƒƒã‚¯</h1>\n        <div className=\"quick-stats\">\n          <div className=\"stat-item pending\">\n            <span className=\"count\">{pendingCount}</span>\n            <span className=\"label\">ä½œæ¥­ä¸­</span>\n          </div>\n          <div className=\"stat-item total\">\n            <span className=\"count\">{contracts.length}</span>\n            <span className=\"label\">ç·ä»¶æ•°</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"review-controls\">\n        <div className=\"filter-section\">\n          <label>çµã‚Šè¾¼ã¿:</label>\n          <select \n            value={filterStatus} \n            onChange={(e) => setFilterStatus(e.target.value as SimpleStatus | 'all')}\n            className=\"status-filter\"\n          >\n            <option value=\"all\">ã™ã¹ã¦</option>\n            <option value={SimpleStatus.NOT_UPLOADED}>ã‚¢ãƒƒãƒ—ã—ã¦ãªã„</option>\n            <option value={SimpleStatus.NEEDS_REUPLOAD}>NGãƒ»å†ã‚¢ãƒƒãƒ—å¿…è¦</option>\n            <option value={SimpleStatus.APPROVED}>OKå®Œäº†</option>\n          </select>\n        </div>\n        \n        <button \n          className=\"btn-quick-search\"\n          onClick={() => setFilterStatus(SimpleStatus.NOT_UPLOADED)}\n        >\n          ğŸ” ä½œæ¥­ä¸­æ¡ˆä»¶ã®ã¿è¡¨ç¤º\n        </button>\n      </div>\n\n      <div className=\"contracts-grid\">\n        {filteredContracts.map(contract => (\n          <div key={contract.id} className=\"contract-card\">\n            <div className=\"card-header\">\n              <div className=\"user-info\">\n                <h3>{contract.user_name}</h3>\n                <span className=\"contract-type\">\n                  {getContractTypeLabel(contract.contract_type)}\n                </span>\n              </div>\n              <div className={`status-badge ${getStatusColor(contract.status)}`}>\n                {getStatusLabel(contract.status)}\n              </div>\n            </div>\n\n            <div className=\"card-body\">\n              <div className=\"progress-info\">\n                <span>æ›¸é¡: {contract.document_count}/{contract.required_document_count}</span>\n                <div className=\"progress-bar\">\n                  <div \n                    className=\"progress-fill\"\n                    style={{ \n                      width: `${(contract.document_count / contract.required_document_count) * 100}%` \n                    }}\n                  />\n                </div>\n              </div>\n\n              <div className=\"created-date\">\n                ä½œæˆ: {new Date(contract.created_at).toLocaleDateString('ja-JP')}\n              </div>\n\n              {contract.google_drive_folder_url && (\n                <button \n                  className=\"btn-drive\"\n                  onClick={() => openGoogleDrive(contract.google_drive_folder_url)}\n                >\n                  ğŸ“ Google Driveã§ç¢ºèª\n                </button>\n              )}\n            </div>\n\n            <div className=\"card-actions\">\n              <div className=\"status-buttons\">\n                <button \n                  className={`btn-status ok ${\n                    contract.status === SimpleStatus.APPROVED ? 'active' : ''\n                  }`}\n                  onClick={() => handleStatusChange(contract.id, SimpleStatus.APPROVED)}\n                  disabled={loading}\n                >\n                  âœ… OK\n                </button>\n                <button \n                  className={`btn-status ng ${\n                    contract.status === SimpleStatus.NEEDS_REUPLOAD ? 'active' : ''\n                  }`}\n                  onClick={() => handleStatusChange(contract.id, SimpleStatus.NEEDS_REUPLOAD)}\n                  disabled={loading}\n                >\n                  âŒ NG\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {filteredContracts.length === 0 && (\n        <div className=\"empty-state\">\n          <p>æ¡ä»¶ã«åˆã†æ¡ˆä»¶ãŒã‚ã‚Šã¾ã›ã‚“</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SimpleContractReview;"