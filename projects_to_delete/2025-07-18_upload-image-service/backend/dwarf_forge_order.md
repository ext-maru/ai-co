# ğŸ”¨ ãƒ‰ãƒ¯ãƒ¼ãƒ•å·¥æˆ¿ç™ºæ³¨æ›¸ - FastAPIãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é›é€ ä¾é ¼

## ğŸ“‹ ç™ºæ³¨å†…å®¹

### 1. **FastAPI ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **
```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py              # FastAPIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æœ¬ä½“
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ deps.py          # ä¾å­˜æ€§æ³¨å…¥
â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ api.py       # APIãƒ«ãƒ¼ã‚¿ãƒ¼çµ±åˆ
â”‚   â”‚       â””â”€â”€ endpoints/
â”‚   â”‚           â”œâ”€â”€ __init__.py
â”‚   â”‚           â”œâ”€â”€ sessions.py
â”‚   â”‚           â”œâ”€â”€ uploads.py
â”‚   â”‚           â””â”€â”€ admin.py
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py        # è¨­å®šç®¡ç†
â”‚   â”‚   â”œâ”€â”€ security.py      # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
â”‚   â”‚   â””â”€â”€ database.py      # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ session.py       # SQLAlchemyãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â””â”€â”€ file.py
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ session.py       # Pydanticã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â””â”€â”€ file.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ session_service.py
â”‚   â”‚   â”œâ”€â”€ file_service.py
â”‚   â”‚   â””â”€â”€ google_drive_service.py
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ file_handler.py
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py
â”‚   â””â”€â”€ test_api/
â”œâ”€â”€ alembic/                 # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env.example
â””â”€â”€ docker-compose.yml
```

### 2. **å¿…è¦ãªæ©Ÿèƒ½å®Ÿè£…**

#### **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†API**
- POST /api/v1/sessions - ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ
- GET /api/v1/sessions/{id} - ã‚»ãƒƒã‚·ãƒ§ãƒ³å–å¾—
- PUT /api/v1/sessions/{id}/status - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
- GET /api/v1/admin/sessions - ç®¡ç†è€…ç”¨ä¸€è¦§

#### **ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰API**
- POST /api/v1/sessions/{id}/upload - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- GET /api/v1/sessions/{id}/files - ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
- DELETE /api/v1/files/{id} - ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤

#### **Google Driveè¨­å®šAPI**
- GET /api/v1/admin/google-drive/settings - è¨­å®šå–å¾—
- PUT /api/v1/admin/google-drive/settings - è¨­å®šæ›´æ–°
- POST /api/v1/admin/google-drive/test-connection - æ¥ç¶šãƒ†ã‚¹ãƒˆ
- POST /api/v1/admin/google-drive/upload-credentials - èªè¨¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

### 3. **æŠ€è¡“ä»•æ§˜**

#### **ä½¿ç”¨æŠ€è¡“**
- FastAPI 0.100+
- SQLAlchemy 2.0+
- Pydantic 2.0+
- Uvicorn
- Python 3.11+

#### **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**
- é–‹ç™º: SQLite
- æœ¬ç•ª: PostgreSQLå¯¾å¿œ

#### **å“è³ªè¦ä»¶**
- TDDå¿…é ˆï¼ˆpytestä½¿ç”¨ï¼‰
- å‹ãƒ’ãƒ³ãƒˆ100%
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå‚™
- ãƒ­ã‚°å‡ºåŠ›è¨­å®š
- CORSå¯¾å¿œ

### 4. **å‚è€ƒå®Ÿè£…**
mock_server.py ã® APIä»•æ§˜ã‚’å‚è€ƒã«ã€æœ¬æ ¼çš„ãªå®Ÿè£…ã‚’è¡Œã†

## ğŸ“… ç´æœŸ
å³åº§é–‹å§‹ã€æ®µéšçš„ç´å“

## ğŸ›ï¸ æ‰¿èª
ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼ï¼ˆç™ºæ³¨è€…ï¼‰
ãƒ‰ãƒ¯ãƒ¼ãƒ•ãƒã‚¹ã‚¿ãƒ¼ï¼ˆå—æ³¨ç¢ºèªå¾…ã¡ï¼‰
