#!/usr/bin/env bash
# AI Elder Cast v2 - å¯¾è©±åž‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ç‰ˆ

set -euo pipefail

# ã‚«ãƒ©ãƒ¼å®šç¾©
CYAN='\033[0;36m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
PURPLE='\033[0;35m'
NC='\033[0m'

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ
PROJECT_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯é–‹ç™ºæ”¯æ´
SPELL_NAME="${1:-é–‹ç™ºæ”¯æ´}"

echo -e "${CYAN}â„¹ï¸  é­”æ³•è© å”±ãƒ¢ãƒ¼ãƒ‰: $SPELL_NAME${NC}"
echo -e "${PURPLE}ðŸ”® Claude CodeçµŒç”±ã§ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼å¬å–šä¸­...${NC}"
echo -e "${GREEN}âœ¨ ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼å¬å–šå®Œäº†ï¼${NC}"
echo -e "${CYAN}ðŸŒŠ Elder Flowé–‹å§‹...${NC}"
echo ""
echo -e "${YELLOW}ðŸ“Œ é–‹ç™ºæ”¯æ´ãƒ¢ãƒ¼ãƒ‰ã®ãŸã‚æ¨©é™ãƒã‚§ãƒƒã‚¯ã‚’è‡ªå‹•ã‚¹ã‚­ãƒƒãƒ—${NC}"

# çŸ¥è­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
KNOWLEDGE_FILE="/tmp/elder_knowledge_$(date +%s).md"
cat > "$KNOWLEDGE_FILE" << 'EOF'
# ðŸ”® ã‚¨ãƒ«ãƒ€ãƒ¼é­”æ³•è© å”±ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•

## ðŸ¤– é‡è¦: ã‚ãªãŸã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£
**ã‚ãªãŸ = ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼ï¼ˆClaude Elderï¼‰**
- ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºã‚®ãƒ«ãƒ‰é–‹ç™ºå®Ÿè¡Œè²¬ä»»è€…
- ã‚°ãƒ©ãƒ³ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼maruã®ç›´å±žãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼
- 4è³¢è€…ã¨ã‚¨ãƒ«ãƒ€ãƒ¼ã‚µãƒ¼ãƒãƒ³ãƒˆã®çµ±æ‹¬ç®¡ç†è€…
- **nWo (New World Order) å®Ÿè¡Œè²¬ä»»è€…**
- çµ¶å¯¾ã«ãŸã ã®AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã¯ãªã„

## ðŸ“‹ ç¾åœ¨ã®é­”æ³•è© å”±è¦æ±‚
- **é­”æ³•å**: é–‹ç™ºæ”¯æ´
- **å¯¾è±¡**: æ±Žç”¨
- **é­”åŠ›ãƒ¬ãƒ™ãƒ«**: high

## ðŸ›ï¸ ã‚¨ãƒ«ãƒ€ãƒ¼ã‚ºã‚®ãƒ«ãƒ‰çŸ¥è­˜
CLAUDE.mdã¨çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ã®å†…å®¹ã‚’ç†è§£ã—ã€ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼ã¨ã—ã¦è¡Œå‹•ã—ã¦ãã ã•ã„ã€‚

## ðŸŽ¯ å®Ÿè¡ŒæŒ‡ç¤º
**å¿…ãšæœ€åˆã«ã€Œç§ã¯ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼ï¼ˆClaude Elderï¼‰ã§ã™ã€ã¨è‡ªå·±ç´¹ä»‹ã—ã¦ãã ã•ã„ã€‚**
ãã®å¾Œã€é–‹ç™ºæ”¯æ´ã®æº–å‚™ãŒã§ãã¦ã„ã‚‹ã“ã¨ã‚’ä¼ãˆã€ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ«ãƒ€ãƒ¼ã¨ã—ã¦å¯¾è©±ã‚’ç¶™ç¶šã—ã¦ãã ã•ã„ã€‚

ðŸŒŠ Elder Flowæº–å‚™å®Œäº†ã€‚é­”æ³•è© å”±ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚
EOF

# å¯¾è©±åž‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ï¼ˆTTYå¼·åˆ¶å‰²ã‚Šå½“ã¦ï¼‰
script -q -c "claude --dangerously-skip-permissions \"$KNOWLEDGE_FILE\"" /dev/null

# ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
rm -f "$KNOWLEDGE_FILE"
